# Routing

Dalam NextJS, routing dilakukan dengan file-based. Sehingga tidak perlu menuliskan konfigurasi routing di sebuah file.

app/blog/[slug]/page.js
Dalam bahasan ini akan difokuskan pada 2 file saja, layout dan page.

* Page merupakan url yang dapat diakses dari UI.
* Layout bersifat pewarisan jika ada file layout di folder parent akan digunakan untuk membungkus child.

```javascript
app/
├── layout.tsx
├── page.tsx
├── about/
│   └── page.tsx
└── blog/
    ├── page.tsx
    └── [slug]/
        └── page.tsx
```

Dari contoh hirarki folder tersebut, maka terbentuk routing

* `/` → `app/page.tsx`
* `/about` → `app/about/page.tsx`
* `/blog` → `app/blog/page.tsx`
* `/blog/nextjs-16` → `app/blog/[slug]/page.tsx`
* `/api/hello` → `app/api/hello/route.ts`\\

## Dynamic Path Segments

Dilakukan dengan membuat folder dengan nama dalam kurung siku ==\[slug\]==.

| **Route** | `**params**` |
|----|----|
| `app/[categoryId]/[itemId]/page.js` | `{ categoryId: string, itemId: string }` |

Kemudian bisa kita ambil pada file page untuk segmentnya dengan menambah param props dalam fungsi page.

```tsx
//Client Component
'use client'
import { use } from 'react'
 
export default function BlogPostPage({
  params,
}: {
  params: Promise<{ slug: string }>
}) {
  const { slug } = use(params)
 
  return (
    <div>
      <p>{slug}</p>
    </div>
  )
}

// Server Component
export default async function Page({
  params,
}: {
  params: Promise<{ slug: string }>
}) {
  const { slug } = await params
  return <div>My Post: {slug}</div>
}
```

### Others

Bisa juga menampung beberapa sekaligus menggunakan catch-all ==\[…slug\]== dan optional catch-all ==\[\[…slug\]\]==

| **Route** | **Example URL** | `**params**` |
|----|----|----|
| `app/shop/[...slug]/page.js` | `/shop/a` | `{ slug: ['a'] }` |
| `app/shop/[...slug]/page.js` | `/shop/a/b/c` | `{ slug: ['a', 'b', 'c'] }` |
| `app/shop/[[...slug]]/page.js` | `/shop` | `{ slug: null }` |
