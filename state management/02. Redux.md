# Redux

Merupakan library untuk mengelola state global. Tersedia libary untuk beberapa library (vue, react, dll).

- merupakan advance tools untuk sharing props di beberapa komponen
- membutuhkan reducer function, seperti `useReducer`

## Penggunaan

1. npm install redux react-redux

    ```js
    // store/index.js
    import { createStore } from 'redux';

    const counterReducer = (state = { counter: 0 }, action) => {
      switch (action.type === 'increment') {
        case 'increment':{
          return {counter: state.counter + 1};
        }

        case 'decrement': {
          return {counter: state.counter - 1};
        }

        default:{
          return state;
        }
      }
    };

    const store = createStore(counterReducer);
    export default store;
    ```

2. wrap komponen app dengan provider, berikan props store berisi instance redux yang telah dibuat

    ```js
    // index.js
    import React from 'react';
    import ReactDOM from 'react-dom/client';

    import App from './App';
    import store from './store/index.js'
    import { Provider } from 'react-redux';

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<Provider store={store}> <App /> </Provider>);
    ```

3. Gunakan di komponen

    ```js
    import { useSelector, useDispatch } from 'react-redux';

    const Counter = () => {
      const dispatch = useDispatch();
      const counter = useSelector(state=> state.counter);

      return (
        <main>
          <h1>Redux Counter</h1>
          <div>{counter}</div>
          <button onClick={()=>dispatch({type: 'increment'})}>Increment</button>
          <button onClick={()=>dispatch({type: 'decrement'})}>Decrement</button>
        </main>
      );
    };

    export default Counter;
    ```
